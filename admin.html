<!DOCTYPE html>
<html lang="bn">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Admin Panel | ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶°‡¶Æ‡¶ø‡¶® ‡¶™‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶≤</title>
  <style>
    body { font-family:"Noto Sans Bengali", sans-serif; margin:0; background:#f5f7fa; color:#222 }
    .wrap{max-width:900px;margin:28px auto;padding:0 18px}
    .panel{background:#fff;padding:16px;border-radius:10px;box-shadow:0 2px 6px rgba(0,0,0,0.06)}
    input,textarea,select{width:100%;padding:8px;margin-bottom:8px;border:1px solid #ccc;border-radius:6px}
    .btn{background:#1e8449;color:#fff;border:none;padding:8px 12px;border-radius:6px;cursor:pointer}
    .danger{background:#c0392b}
    .top{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px}
    ul{list-style:none;padding-left:0}
    li{padding:8px 0;border-bottom:1px solid #eee;display:flex;justify-content:space-between;align-items:center}
    .small{font-size:12px;color:#666}
  </style>
</head>
<body>
  <div class="wrap">
    <div class="panel" id="loginPanel">
      <div class="top">
        <h2>üîê Admin Login / ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶°‡¶Æ‡¶ø‡¶® ‡¶≤‡¶ó‡¶á‡¶®</h2>
        <a href="index.html" class="small" style="text-decoration:none;color:#1e8449">Back to Shop / ‡¶¶‡ßã‡¶ï‡¶æ‡¶®‡ßá ‡¶´‡¶ø‡¶∞‡ßÅ‡¶®</a>
      </div>
      <input id="password" type="password" placeholder="Enter password / ‡¶™‡¶æ‡¶∏‡¶ì‡ßü‡¶æ‡¶∞‡ßç‡¶° ‡¶¶‡¶ø‡¶®" />
      <button class="btn" onclick="doLogin()">Login / ‡¶≤‡¶ó‡¶á‡¶®</button>
      <p class="small">Admin password is stored only in this file. Change it if you want. / ‡¶™‡¶æ‡¶∏‡¶ì‡ßü‡¶æ‡¶∞‡ßç‡¶° ‡¶è‡¶á ‡¶´‡¶æ‡¶á‡¶≤‡ßá ‡¶∞‡¶æ‡¶ñ‡¶æ ‡¶Ü‡¶õ‡ßá ‚Äî ‡¶™‡ßç‡¶∞‡ßü‡ßã‡¶ú‡¶®‡ßá ‡¶¨‡¶¶‡¶≤‡¶æ‡¶§‡ßá ‡¶π‡¶¨‡ßá‡•§</p>
    </div>

    <div class="panel" id="adminPanel" style="display:none;margin-top:14px">
      <div class="top">
        <h2>üõ†Ô∏è Product Management / ‡¶™‡ßç‡¶∞‡ßã‡¶°‡¶æ‡¶ï‡ßç‡¶ü ‡¶Æ‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶ú‡¶Æ‡ßá‡¶®‡ßç‡¶ü</h2>
        <button class="btn" onclick="logout()">Logout / ‡¶≤‡¶ó‡¶Ü‡¶â‡¶ü</button>
      </div>

      <form id="addForm">
        <input id="p_name" placeholder="Product name (EN | BN) / ‡¶™‡ßç‡¶∞‡ßã‡¶°‡¶æ‡¶ï‡ßç‡¶ü ‡¶®‡¶æ‡¶Æ" required />
        <select id="p_type">
          <option value="medicine">medicine</option>
          <option value="supplement">supplement</option>
          <option value="device">device</option>
        </select>
        <input id="p_price" type="number" placeholder="Price / ‡¶Æ‡ßÇ‡¶≤‡ßç‡¶Ø" required />
        <input id="p_img" placeholder="Image URL (optional) / ‡¶á‡¶Æ‡ßá‡¶ú URL (‡¶ê‡¶ö‡ßç‡¶õ‡¶ø‡¶ï)" />
        <textarea id="p_desc" placeholder="Description (EN | BN) / ‡¶¨‡¶∞‡ßç‡¶£‡¶®‡¶æ"></textarea>
        <button class="btn" type="submit">Add Product / ‡¶™‡ßç‡¶∞‡ßã‡¶°‡¶æ‡¶ï‡ßç‡¶ü ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®</button>
      </form>

      <h3 style="margin-top:14px">Current Products / ‡¶¨‡¶∞‡ßç‡¶§‡¶Æ‡¶æ‡¶® ‡¶™‡ßç‡¶∞‡ßã‡¶°‡¶æ‡¶ï‡ßç‡¶ü‡¶∏‡¶Æ‡ßÇ‡¶π</h3>
      <ul id="plist"></ul>

      <p class="small" style="margin-top:12px">Products are saved to browser localStorage on this PC. When you add a product here it will appear on the public index.html automatically (on this PC/browser). / ‡¶™‡ßç‡¶∞‡ßã‡¶°‡¶æ‡¶ï‡ßç‡¶ü‡¶ó‡ßÅ‡¶≤‡ßã ‡¶¨‡ßç‡¶∞‡¶æ‡¶â‡¶ú‡¶æ‡¶∞‡ßá‡¶∞ localStorage-‡¶è ‡¶∏‡ßá‡¶≠ ‡¶π‡¶¨‡ßá‡•§ ‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡¶≤‡ßá ‡¶™‡ßç‡¶∞‡¶•‡¶Æ ‡¶™‡ßá‡¶ú‡ßá ‡¶Ö‡¶ü‡ßã‡¶Æ‡ßá‡¶ü‡¶ø‡¶ï ‡¶¶‡ßá‡¶ñ‡¶æ ‡¶Ø‡¶æ‡¶¨‡ßá‡•§</p>
    </div>
  </div>

  <script>
    // PASSWORD - change here if you want. User requested: 11223344
    const ADMIN_PASSWORD = "11223344";

    const STORAGE_KEY = "medProducts_v1";

    function getProducts(){
      const raw = localStorage.getItem(STORAGE_KEY);
      if(!raw) return [];
      try{ return JSON.parse(raw); }catch(e){ return []; }
    }
    function saveProducts(list){ localStorage.setItem(STORAGE_KEY, JSON.stringify(list)); }

    function doLogin(){
      const p = document.getElementById("password").value;
      if(p === ADMIN_PASSWORD){
        document.getElementById("loginPanel").style.display = "none";
        document.getElementById("adminPanel").style.display = "block";
        renderList();
      } else {
        alert("Wrong password / ‡¶≠‡ßÅ‡¶≤ ‡¶™‡¶æ‡¶∏‡¶ì‡ßü‡¶æ‡¶∞‡ßç‡¶°");
      }
    }
    function logout(){
      document.getElementById("password").value = "";
      document.getElementById("loginPanel").style.display = "block";
      document.getElementById("adminPanel").style.display = "none";
    }

    document.getElementById("addForm").addEventListener("submit", function(e){
      e.preventDefault();
      const name = document.getElementById("p_name").value.trim();
      const type = document.getElementById("p_type").value;
      const price = Number(document.getElementById("p_price").value) || 0;
      const img = document.getElementById("p_img").value.trim();
      const desc = document.getElementById("p_desc").value.trim();
      const list = getProducts();
      const id = Date.now();
      list.push({ id, name, type, price, img, desc });
      saveProducts(list);
      renderList();
      this.reset();
      alert("Product added / ‡¶™‡ßç‡¶∞‡ßã‡¶°‡¶æ‡¶ï‡ßç‡¶ü ‡¶Ø‡ßã‡¶ó ‡¶π‡ßü‡ßá‡¶õ‡ßá");
    });

    function renderList(){
      const list = getProducts();
      const ul = document.getElementById("plist");
      ul.innerHTML = "";
      if(list.length === 0) ul.innerHTML = "<li class='small'>No products yet / ‡¶ï‡ßã‡¶®‡ßã ‡¶™‡ßç‡¶∞‡ßã‡¶°‡¶æ‡¶ï‡ßç‡¶ü ‡¶®‡ßá‡¶á</li>";
      list.forEach((p, idx)=>{
        const li = document.createElement("li");
        li.innerHTML = `<div style="flex:1"><strong>${p.name}</strong><div class="small">${p.desc || ''}</div></div>
                        <div style="margin-left:12px">‡ß≥${p.price}</div>
                        <div style="margin-left:12px"><button class="btn danger" style="padding:6px 8px" onclick="delProduct(${p.id})">Delete</button></div>`;
        ul.appendChild(li);
      });
    }

    function delProduct(id){
      if(!confirm("Are you sure? Delete product / ‡¶®‡¶ø‡¶∂‡ßç‡¶ö‡¶ø‡¶§? ‡¶™‡ßç‡¶∞‡ßã‡¶°‡¶æ‡¶ï‡ßç‡¶ü ‡¶Æ‡ßÅ‡¶õ‡ßá ‡¶´‡ßá‡¶≤‡¶§‡ßá ‡¶ö‡¶æ‡¶®?")) return;
      let list = getProducts();
      list = list.filter(p=>p.id !== id);
      saveProducts(list);
      renderList();
      alert("Deleted / ‡¶Æ‡ßÅ‡¶õ‡ßá ‡¶´‡ßá‡¶≤‡¶æ ‡¶π‡ßü‡ßá‡¶õ‡ßá");
    }

    // On load: if localStorage empty, seed with defaults so index shows something
    (function initSeed(){
      const key = STORAGE_KEY;
      if(!localStorage.getItem(key)){
        const seed = [
          {id:1, name:"Paracetamol 500mg | ‡¶™‡ßç‡¶Ø‡¶æ‡¶∞‡¶æ‡¶∏‡¶ø‡¶ü‡¶æ‡¶Æ‡¶≤", type:"medicine", price:45, desc:"Fever & pain relief | ‡¶ú‡ßç‡¶¨‡¶∞ ‡¶ì ‡¶¨‡ßç‡¶Ø‡¶•‡¶æ ‡¶ï‡¶Æ‡¶æ‡ßü", img:"https://images.unsplash.com/photo-1582719478250-0b8a8f7ef83a?auto=format&fit=crop&w=600&q=60"},
          {id:2, name:"Vitamin C Tablet | ‡¶≠‡¶ø‡¶ü‡¶æ‡¶Æ‡¶ø‡¶® ‡¶∏‡¶ø ‡¶ü‡ßç‡¶Ø‡¶æ‡¶¨‡¶≤‡ßá‡¶ü", type:"supplement", price:200, desc:"Boosts immunity | ‡¶∞‡ßã‡¶ó ‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶∞‡ßã‡¶ß ‡¶ï‡ßç‡¶∑‡¶Æ‡¶§‡¶æ ‡¶¨‡¶æ‡ßú‡¶æ‡ßü", img:"https://images.unsplash.com/photo-1580281657525-7a8f9a8b8b59?auto=format&fit=crop&w=600&q=60"}
        ];
        localStorage.setItem(key, JSON.stringify(seed));
      }
    })();
  </script>
</body>
</html>
